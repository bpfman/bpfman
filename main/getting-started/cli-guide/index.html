
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../running-rpm/">
      
      
        <link rel="next" href="../example-bpf/">
      
      
      <link rel="icon" href="../../img/icon/color/bpfman-icon-color.svg">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.11">
    
    
      
        <title>CLI Guide - bpfman</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.fad675c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cli-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="bpfman" class="md-header__button md-logo" aria-label="bpfman" data-md-component="logo">
      
  <img src="../../img/icon/color/bpfman-icon-color.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            bpfman
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CLI Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/bpfman/bpfman" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Introduction

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../quick-start/" class="md-tabs__link">
        
  
    
  
  Quick Start

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../overview/" class="md-tabs__link">
          
  
    
  
  User Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../governance/CONTRIBUTING/" class="md-tabs__link">
          
  
    
  
  Developer Documentation

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../design/daemonless/" class="md-tabs__link">
          
  
    
  
  Design

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../blog/" class="md-tabs__link">
          
  
    
  
  Blog

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../governance/MEETINGS/" class="md-tabs__link">
          
  
    
  
  Community

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="bpfman" class="md-nav__button md-logo" aria-label="bpfman" data-md-component="logo">
      
  <img src="../../img/icon/color/bpfman-icon-color.svg" alt="logo">

    </a>
    bpfman
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bpfman/bpfman" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../../quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            User Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bpfman Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../building-bpfman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup and Building
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../launching-bpfman/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Launching bpfman
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf-local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying Example eBPF Programs On Local Host
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf-k8s/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying Example eBPF Programs On Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../running-release/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run bpfman From Release Image
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../running-rpm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Run bpfman From RPM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    CLI Guide
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    CLI Guide
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-for-this-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Notes For This Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-load" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman load
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bpfman load">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-load-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Load Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Load Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fentry" class="md-nav__link">
    <span class="md-ellipsis">
      Fentry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fexit" class="md-nav__link">
    <span class="md-ellipsis">
      Fexit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Kprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kretprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Kretprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tc" class="md-nav__link">
    <span class="md-ellipsis">
      TC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Uprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uretprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Uretprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xdp" class="md-nav__link">
    <span class="md-ellipsis">
      XDP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-global-variables-in-ebpf-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Global Variables in eBPF Programs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-proceed-on-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Modifying the Proceed-On Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-maps-between-ebpf-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing Maps Between eBPF Programs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-list" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-get" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman get
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-unload" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman unload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-image" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bpfman image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpfman-image-pull" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpfman-image-build" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpfman-image-generate-build-args" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image generate-build-args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../example-bpf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example eBPF Programs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Developer Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/REVIEWING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reviewing Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/operator-quick-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deploying the bpfman-operator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/develop-operator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developing the bpfman-operator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/api-spec/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes CRD API-Reference
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/shipping-bytecode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    eBPF Bytecode Image Specifications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/image-build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    bpfman Container Images
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/linux-capabilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux Capabilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/observability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Observability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/debugging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/release/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releasing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/xdp-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    XDP Tutorial
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../developer-guide/k8s-selinux-distros/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running the Examples as Non-Root on SELinux Distributions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../design/daemonless/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Daemonless
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../blog/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Blog
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/archive/2023/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2023
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/community-meeting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community Meeting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../blog/category/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Community
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Community
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/MEETINGS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meetings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/GOVERNANCE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Governance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/CODE_OF_CONDUCT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code of Conduct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/MAINTAINERS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintainers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../governance/SECURITY/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#notes-for-this-guide" class="md-nav__link">
    <span class="md-ellipsis">
      Notes For This Guide
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#basic-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Syntax
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-load" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman load
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bpfman load">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#additional-load-examples" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Load Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Additional Load Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fentry" class="md-nav__link">
    <span class="md-ellipsis">
      Fentry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fexit" class="md-nav__link">
    <span class="md-ellipsis">
      Fexit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Kprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kretprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Kretprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tc" class="md-nav__link">
    <span class="md-ellipsis">
      TC
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Uprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uretprobe" class="md-nav__link">
    <span class="md-ellipsis">
      Uretprobe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xdp" class="md-nav__link">
    <span class="md-ellipsis">
      XDP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-global-variables-in-ebpf-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Setting Global Variables in eBPF Programs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modifying-the-proceed-on-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      Modifying the Proceed-On Behavior
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sharing-maps-between-ebpf-programs" class="md-nav__link">
    <span class="md-ellipsis">
      Sharing Maps Between eBPF Programs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-list" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman list
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-get" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman get
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-unload" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman unload
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bpfman-image" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image
    </span>
  </a>
  
    <nav class="md-nav" aria-label="bpfman image">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bpfman-image-pull" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image pull
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpfman-image-build" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image build
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bpfman-image-generate-build-args" class="md-nav__link">
    <span class="md-ellipsis">
      bpfman image generate-build-args
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="cli-guide">CLI Guide</h1>
<p><code>bpfman</code> offers several CLI commands to interact with the <code>bpfman</code> daemon.
The CLI allows you to <code>load</code>, <code>unload</code>, <code>get</code> and <code>list</code> eBPF programs.</p>
<h2 id="notes-for-this-guide">Notes For This Guide</h2>
<p>As described in other sections, <code>bpfman</code> can be run as either a privileged process or
a systemd service.
If run as a privileged process, <code>bpfman</code> will most likely be run from your local
development branch and will require <code>sudo</code>.
Example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="go">sudo ./target/debug/bpfman list</span>
</code></pre></div>
<p>If run as a systemd service, <code>bpfman</code> will most likely be installed in your $PATH,
and will also require <code>sudo</code>.
Example:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">sudo bpfman list</span>
</code></pre></div>
<p>The examples here use <code>sudo bpfman</code> in place of <code>sudo ./target/debug/bpfman</code> for readability,
use as your system is deployed.</p>
<p>eBPF object files used in the examples are taken from the
<a href="https://github.com/bpfman/bpfman/tree/main/examples">examples</a> and
<a href="https://github.com/bpfman/bpfman/tree/main/tests/integration-test">integration-test</a> directories
from the <code>bpfman</code> repository.</p>
<h2 id="basic-syntax">Basic Syntax</h2>
<p>Below are the commands supported by <code>bpfman</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="go">An eBPF manager focusing on simplifying the deployment and administration of eBPF programs.</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="go">Usage: bpfman &lt;COMMAND&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="go">Commands:</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="go">  load    Load an eBPF program on the system</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="go">  unload  Unload an eBPF program using the Program Id</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="go">  list    List all eBPF programs loaded via bpfman</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="go">  get     Get an eBPF program using the Program Id</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="go">  image   eBPF Bytecode Image related commands</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="go">  help    Print this message or the help of the given subcommand(s)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="go">Options:</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="go">  -h, --help</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<h2 id="bpfman-load">bpfman load</h2>
<p>The <code>bpfman load file</code> and <code>bpfman load image</code> commands are used to load eBPF programs.
The <code>bpfman load file</code> command is used to load a locally built eBPF program.
The <code>bpfman load image</code> command is used to load an eBPF program packaged in a OCI container
image from a given registry.
Each program type (i.e. <code>&lt;COMMAND&gt;</code>) has it's own set of attributes specific to the program type,
and those attributes MUST come after the program type is entered.
There are a common set of attributes, and those MUST come before the program type is entered.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="go">sudo bpfman load file --help</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="go">Load an eBPF program from a local .o file</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="go">Usage: bpfman load file [OPTIONS] --path &lt;PATH&gt; --name &lt;NAME&gt; &lt;COMMAND&gt;</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="go">Commands:</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="go">  xdp         Install an eBPF program on the XDP hook point for a given interface</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="go">  tc          Install an eBPF program on the TC hook point for a given interface</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="go">  tracepoint  Install an eBPF program on a Tracepoint</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="go">  kprobe      Install a kprobe or kretprobe eBPF probe</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="go">  uprobe      Install a uprobe or uretprobe eBPF probe</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="go">  fentry      Install a fentry eBPF probe</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="go">  fexit       Install a fexit eBPF probe</span>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="go">  help        Print this message or the help of the given subcommand(s)</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="go">Options:</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="go">  -p, --path &lt;PATH&gt;</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a><span class="go">          Required: Location of local bytecode file</span>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="go">          Example: --path /run/bpfman/examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="go">  -n, --name &lt;NAME&gt;</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="go">          Required: The name of the function that is the entry point for the BPF program</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a><span class="go">  -g, --global &lt;GLOBAL&gt;...</span>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="go">          Optional: Global variables to be set when program is loaded.</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="go">          Format: &lt;NAME&gt;=&lt;Hex Value&gt;</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="go">          This is a very low level primitive. The caller is responsible for formatting</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="go">          the byte string appropriately considering such things as size, endianness,</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a><span class="go">          alignment and packing of data structures.</span>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="go">  -m, --metadata &lt;METADATA&gt;</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="go">          Optional: Specify Key/Value metadata to be attached to a program when it</span>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="go">          is loaded by bpfman.</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="go">          Format: &lt;KEY&gt;=&lt;VALUE&gt;</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a><span class="go">          This can later be used to `list` a certain subset of programs which contain</span>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="go">          the specified metadata.</span>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="go">          Example: --metadata owner=acme</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a>
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="go">      --map-owner-id &lt;MAP_OWNER_ID&gt;</span>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a><span class="go">          Optional: Program Id of loaded eBPF program this eBPF program will share a map with.</span>
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a><span class="go">          Only used when multiple eBPF programs need to share a map.</span>
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="go">          Example: --map-owner-id 63178</span>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a>
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="go">  -h, --help</span>
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>and</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="go">sudo bpfman load image --help</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="go">Load an eBPF program packaged in a OCI container image from a given registry</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="go">Usage: bpfman load image [OPTIONS] --image-url &lt;IMAGE_URL&gt; --name &lt;NAME&gt; &lt;COMMAND&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="go">Commands:</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="go">  xdp         Install an eBPF program on the XDP hook point for a given interface</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="go">  tc          Install an eBPF program on the TC hook point for a given interface</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="go">  tracepoint  Install an eBPF program on a Tracepoint</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="go">  kprobe      Install a kprobe or kretprobe eBPF probe</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="go">  uprobe      Install a uprobe or uretprobe eBPF probe</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="go">  fentry      Install a fentry eBPF probe</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="go">  fexit       Install a fexit eBPF probe</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="go">  help        Print this message or the help of the given subcommand(s)</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="go">Options:</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="go">  -i, --image-url &lt;IMAGE_URL&gt;</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="go">          Required: Container Image URL.</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="go">          Example: --image-url quay.io/bpfman-bytecode/xdp_pass:latest</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="go">  -r, --registry-auth &lt;REGISTRY_AUTH&gt;</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="go">          Optional: Registry auth for authenticating with the specified image registry.</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="go">          This should be base64 encoded from the &#39;&lt;username&gt;:&lt;password&gt;&#39; string just like</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="go">          it&#39;s stored in the docker/podman host config.</span>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="go">          Example: --registry_auth &quot;YnjrcKw63PhDcQodiU9hYxQ2&quot;</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="go">  -p, --pull-policy &lt;PULL_POLICY&gt;</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="go">          Optional: Pull policy for remote images.</span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>
<a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="go">          [possible values: Always, IfNotPresent, Never]</span>
<a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>
<a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="go">          [default: IfNotPresent]</span>
<a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>
<a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="go">  -n, --name &lt;NAME&gt;</span>
<a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="go">          Required: The name of the function that is the entry point for the eBPF program.</span>
<a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>
<a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="go">  -g, --global &lt;GLOBAL&gt;...</span>
<a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="go">          Optional: Global variables to be set when program is loaded.</span>
<a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="go">          Format: &lt;NAME&gt;=&lt;Hex Value&gt;</span>
<a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>
<a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="go">          This is a very low level primitive. The caller is responsible for formatting</span>
<a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="go">          the byte string appropriately considering such things as size, endianness,</span>
<a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a><span class="go">          alignment and packing of data structures.</span>
<a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>
<a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="go">  -m, --metadata &lt;METADATA&gt;</span>
<a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="go">          Optional: Specify Key/Value metadata to be attached to a program when it</span>
<a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a><span class="go">          is loaded by bpfman.</span>
<a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="go">          Format: &lt;KEY&gt;=&lt;VALUE&gt;</span>
<a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a>
<a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="go">          This can later be used to list a certain subset of programs which contain</span>
<a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a><span class="go">          the specified metadata.</span>
<a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="go">          Example: --metadata owner=acme</span>
<a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a>
<a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="go">      --map-owner-id &lt;MAP_OWNER_ID&gt;</span>
<a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a><span class="go">          Optional: Program Id of loaded eBPF program this eBPF program will share a map with.</span>
<a id="__codelineno-4-56" name="__codelineno-4-56" href="#__codelineno-4-56"></a><span class="go">          Only used when multiple eBPF programs need to share a map.</span>
<a id="__codelineno-4-57" name="__codelineno-4-57" href="#__codelineno-4-57"></a><span class="go">          Example: --map-owner-id 63178</span>
<a id="__codelineno-4-58" name="__codelineno-4-58" href="#__codelineno-4-58"></a>
<a id="__codelineno-4-59" name="__codelineno-4-59" href="#__codelineno-4-59"></a><span class="go">  -h, --help</span>
<a id="__codelineno-4-60" name="__codelineno-4-60" href="#__codelineno-4-60"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>When using either load command, <code>--path</code>, <code>--image-url</code>, <code>--registry-auth</code>, <code>--pull-policy</code>, <code>--name</code>,
 <code>--global</code>, <code>--metadata</code> and <code>--map-owner-id</code> must be entered before the <code>&lt;COMMAND&gt;</code> (<code>xdp</code>, <code>tc</code>,
 <code>tracepoint</code>, etc) is entered.
Then each <code>&lt;COMMAND&gt;</code> has its own custom parameters (same for both <code>bpfman load file</code> and
<code>bpfman load image</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="go">sudo bpfman load file xdp --help</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="go">Install an eBPF program on the XDP hook point for a given interface</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="go">Usage: bpfman load file --path &lt;PATH&gt; --name &lt;NAME&gt; xdp [OPTIONS] --iface &lt;IFACE&gt; --priority &lt;PRIORITY&gt;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="go">Options:</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="go">  -i, --iface &lt;IFACE&gt;</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="go">          Required: Interface to load program on</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="go">  -p, --priority &lt;PRIORITY&gt;</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="go">          Required: Priority to run program in chain. Lower value runs first</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="go">      --proceed-on &lt;PROCEED_ON&gt;...</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="go">          Optional: Proceed to call other programs in chain on this exit code.</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="go">          Multiple values supported by repeating the parameter.</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="go">          Example: --proceed-on &quot;pass&quot; --proceed-on &quot;drop&quot;</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="go">          [possible values: aborted, drop, pass, tx, redirect, dispatcher_return]</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="go">          [default: pass, dispatcher_return]</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="go">  -h, --help</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>Example loading from local file (<code>--path</code> is the fully qualified path):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="go">sudo bpfman load file --path tests/integration-test/bpf/.output/xdp_pass.bpf.o --name &quot;pass&quot; xdp --iface eno3 --priority 100</span>
</code></pre></div>
<p>Example from image in remote repository:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/xdp_pass:latest --name &quot;pass&quot; xdp --iface eno3 --priority 100</span>
</code></pre></div>
<p>The <code>tc</code> command is similar to <code>xdp</code>, but it also requires the <code>direction</code> option
and the <code>proceed-on</code> values are different.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="go">sudo bpfman load file tc --help</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="go">Install an eBPF program on the TC hook point for a given interface</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="go">Usage: bpfman load file --path &lt;PATH&gt; --name &lt;NAME&gt; tc [OPTIONS] --direction &lt;DIRECTION&gt; --iface &lt;IFACE&gt; --priority &lt;PRIORITY&gt;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="go">Options:</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="go">  -d, --direction &lt;DIRECTION&gt;</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="go">          Required: Direction to apply program.</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="go">          [possible values: ingress, egress]</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="go">  -i, --iface &lt;IFACE&gt;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="go">          Required: Interface to load program on</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="go">  -p, --priority &lt;PRIORITY&gt;</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="go">          Required: Priority to run program in chain. Lower value runs first</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="go">      --proceed-on &lt;PROCEED_ON&gt;...</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="go">          Optional: Proceed to call other programs in chain on this exit code.</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="go">          Multiple values supported by repeating the parameter.</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="go">          Example: --proceed-on &quot;ok&quot; --proceed-on &quot;pipe&quot;</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="go">          [possible values: unspec, ok, reclassify, shot, pipe, stolen, queued,</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="go">                            repeat, redirect, trap, dispatcher_return]</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="go">          [default: ok, pipe, dispatcher_return]</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="go">  -h, --help</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>The following is an example of the <code>tc</code> command using short option names:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="go">sudo bpfman load file -p tests/integration-test/bpf/.output/tc_pass.bpf.o -n &quot;pass&quot; tc -d ingress -i mynet1 -p 40</span>
</code></pre></div>
<p>For the <code>tc_pass.bpf.o</code> program loaded with the command above, the name
would be set as shown in the following snippet, taken from the function name, not <code>SEC()</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">SEC</span><span class="p">(</span><span class="s">&quot;classifier/pass&quot;</span><span class="p">)</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">pass</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">__sk_buff</span><span class="w"> </span><span class="o">*</span><span class="n">skb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="o">:</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="p">}</span>
</code></pre></div>
<h3 id="additional-load-examples">Additional Load Examples</h3>
<p>Below are some additional examples of <code>bpfman load</code> commands:</p>
<h4 id="fentry">Fentry</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/fentry:latest --name &quot;test_fentry&quot; fentry -f do_unlinkat</span>
</code></pre></div>
<h4 id="fexit">Fexit</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/fexit:latest --name &quot;test_fexit&quot; fexit -f do_unlinkat</span>
</code></pre></div>
<h4 id="kprobe">Kprobe</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/kprobe:latest --name &quot;my_kprobe&quot; kprobe -f try_to_wake_up</span>
</code></pre></div>
<h4 id="kretprobe">Kretprobe</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/kretprobe:latest --name &quot;my_kretprobe&quot; kprobe -f try_to_wake_up -r</span>
</code></pre></div>
<h4 id="tc">TC</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="go">sudo bpfman load file --path examples/go-tc-counter/bpf_x86_bpfel.o --name &quot;stats&quot; tc --direction ingress --iface eno3 --priority 110</span>
</code></pre></div>
<h4 id="uprobe">Uprobe</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/uprobe:latest --name &quot;my_uprobe&quot; uprobe -f &quot;malloc&quot; -t &quot;libc&quot;</span>
</code></pre></div>
<h4 id="uretprobe">Uretprobe</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/uretprobe:latest --name &quot;my_uretprobe&quot; uprobe -f &quot;malloc&quot; -t &quot;libc&quot; -r</span>
</code></pre></div>
<h4 id="xdp">XDP</h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="go">sudo bpfman load file --path bpfman/examples/go-xdp-counter/bpf_x86_bpfel.o --name &quot;xdp_stats&quot; xdp --iface eno3 --priority 35</span>
</code></pre></div>
<h3 id="setting-global-variables-in-ebpf-programs">Setting Global Variables in eBPF Programs</h3>
<p>Global variables can be set for any eBPF program type when loading as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="go">sudo bpfman load file -p bpfman/tests/integration-test/bpf/.output/tc_pass.bpf.o -g GLOBAL_u8=01 GLOBAL_u32=0A0B0C0D -n &quot;pass&quot; tc -d ingress -i mynet1 -p 40</span>
</code></pre></div>
<p>Note that when setting global variables, the eBPF program being loaded must
have global variables named with the strings given, and the size of the value
provided must match the size of the given variable.  For example, the above
command can be used to update the following global variables in an eBPF program.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">__u32</span><span class="w"> </span><span class="n">GLOBAL_u8</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="k">volatile</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">__u32</span><span class="w"> </span><span class="n">GLOBAL_u32</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</code></pre></div>
<h3 id="modifying-the-proceed-on-behavior">Modifying the Proceed-On Behavior</h3>
<p>The <code>proceed-on</code> setting applies to <code>xdp</code> and <code>tc</code> programs. For both of these
program types, an ordered list of eBPF programs is maintained per attach point.
The <code>proceed-on</code> setting determines whether processing will "proceed" to the
next eBPF program in the list, or terminate processing and return, based on the
program's return value. For example, the default <code>proceed-on</code> configuration for
an <code>xdp</code> program can be modified as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="go">sudo bpfman load file -p tests/integration-test/bpf/.output/xdp_pass.bpf.o -n &quot;pass&quot; xdp -i mynet1 -p 30 --proceed-on drop pass dispatcher_return</span>
</code></pre></div>
<h3 id="sharing-maps-between-ebpf-programs">Sharing Maps Between eBPF Programs</h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently for the map sharing feature to work the LIBBPF_PIN_BY_NAME flag <strong>MUST</strong> be set in
the shared bpf map definitions.
Please see <a href="https://github.com/aya-rs/aya/issues/837">this aya issue</a> for future work that will
change this requirement.</p>
</div>
<p>To share maps between eBPF programs, first load the eBPF program that owns the
maps.
One eBPF program must own the maps.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="go">sudo bpfman load file --path examples/go-xdp-counter/bpf_x86_bpfel.o -n &quot;xdp_stats&quot; xdp --iface eno3 --priority 100</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="go">6371</span>
</code></pre></div>
<p>Next, load additional eBPF programs that will share the existing maps by passing
the program id of the eBPF program that owns the maps using the <code>--map-owner-id</code>
parameter:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="go">cd bpfman/</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="go">sudo bpfman load file --path examples/go-xdp-counter/bpf_x86_bpfel.o -n &quot;xdp_stats&quot; --map-owner-id 6371 xdp --iface eno3 --priority 100</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="go">6373</span>
</code></pre></div>
<p>Use the <code>bpfman get &lt;PROGRAM_ID&gt;</code> command to display the configuration:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="go">sudo bpfman list</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="go"> Program ID  Name       Type  Load Time</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="go"> 6371        xdp_stats  xdp   2023-07-18T16:50:46-0400</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="go"> 6373        xdp_stats  xdp   2023-07-18T16:51:06-0400</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="go">sudo bpfman get 6371</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="go"> Bpfman State</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="go">---------------</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="go"> Name:          xdp_stats</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="go"> Path:          /home/&lt;$USER&gt;/src/bpfman/examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="go"> Global:        None</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="go"> Metadata:      None</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="go"> Map Pin Path:  /run/bpfman/fs/maps/6371</span>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="go"> Map Owner ID:  None</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="go"> Map Used By:   6371</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="go">                6373</span>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="go"> Priority:      100</span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="go"> Iface:         eno3</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="go"> Position:      1</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="go"> Proceed On:    pass, dispatcher_return</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="go">:</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="go">sudo bpfman get 6373</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="go"> Bpfman State</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="go">---------------</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="go"> Name:          xdp_stats</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="go"> Path:          /home/&lt;$USER&gt;/src/bpfman/examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="go"> Global:        None</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="go"> Metadata:      None</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="go"> Map Pin Path:  /run/bpfman/fs/maps/6371</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="go"> Map Owner ID:  6371</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a><span class="go"> Map Used By:   6371</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="go">                6373</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="go"> Priority:      100</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="go"> Iface:         eno3</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="go"> Position:      0</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="go"> Proceed On:    pass, dispatcher_return</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="go">:</span>
</code></pre></div>
<p>As the output shows, the first program (<code>6371</code>) owns the map, with <code>Map Owner ID</code>
of <code>None</code> and the <code>Map Pin Path</code> (<code>/run/bpfman/fs/maps/6371</code>) that includes its own ID.</p>
<p>The second program (<code>6373</code>) references the first program via the <code>Map Owner ID</code> set
to <code>6371</code> and the <code>Map Pin Path</code> (<code>/run/bpfman/fs/maps/6371</code>) set to same directory as
the first program, which includes the first program's ID.
The output for both commands shows the map is being used by both programs via
the <code>Map Used By</code> with values of <code>6371</code> and <code>6373</code>.</p>
<p>The eBPF programs can be unloaded any order, the <code>Map Pin Path</code> will not be deleted
until all the programs referencing the maps are unloaded:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="go">sudo bpfman unload 6371</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="go">sudo bpfman unload 6373</span>
</code></pre></div>
<h2 id="bpfman-list">bpfman list</h2>
<p>The <code>bpfman list</code> command lists all the bpfman loaded eBPF programs:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="go">sudo bpfman list</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="go"> Program ID  Name              Type        Load Time</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="go"> 6201        pass              xdp         2023-07-17T17:17:53-0400</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="go"> 6202        sys_enter_openat  tracepoint  2023-07-17T17:19:09-0400</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="go"> 6204        stats             tc          2023-07-17T17:20:14-0400</span>
</code></pre></div>
<p>To see all eBPF programs loaded on the system, include the <code>--all</code> option.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="go">sudo bpfman list --all</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="go"> Program ID  Name              Type           Load Time</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="go"> 52          restrict_filesy   lsm            2023-05-03T12:53:34-0400</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="go"> 166         dump_bpf_map      tracing        2023-05-03T12:53:52-0400</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="go"> 167         dump_bpf_prog     tracing        2023-05-03T12:53:52-0400</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="go"> 455                           cgroup_device  2023-05-03T12:58:26-0400</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="go"> :</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="go"> 6194                          cgroup_device  2023-07-17T17:15:23-0400</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="go"> 6201        pass              xdp            2023-07-17T17:17:53-0400</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="go"> 6202        sys_enter_openat  tracepoint     2023-07-17T17:19:09-0400</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="go"> 6203        dispatcher        tc             2023-07-17T17:20:14-0400</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="go"> 6204        stats             tc             2023-07-17T17:20:14-0400</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="go"> 6207        xdp               xdp            2023-07-17T17:27:13-0400</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="go"> 6210        test_fentry       tracing        2023-07-17T17:28:34-0400</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="go"> 6212        test_fexit        tracing        2023-07-17T17:29:02-0400</span>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="go"> 6223        my_uprobe         probe          2023-07-17T17:31:45-0400</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="go"> 6225        my_kretprobe      probe          2023-07-17T17:32:27-0400</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="go"> 6928        my_kprobe         probe          2023-07-17T17:33:49-0400</span>
</code></pre></div>
<p>To filter on a given program type, include the <code>--program-type</code> parameter:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="go">sudo bpfman list --all --program-type tc</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="go"> Program ID  Name        Type  Load Time</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="go"> 6203        dispatcher  tc    2023-07-17T17:20:14-0400</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="go"> 6204        stats       tc    2023-07-17T17:20:14-0400</span>
</code></pre></div>
<p>Note: The list filters by the Kernel Program Type.
<code>kprobe</code>, <code>kretprobe</code>, <code>uprobe</code> and <code>uretprobe</code> all map to the <code>probe</code> Kernel Program Type.
<code>fentry</code> and <code>fexit</code> both map to the <code>tracing</code> Kernel Program Type.</p>
<h2 id="bpfman-get">bpfman get</h2>
<p>To retrieve detailed information for a loaded eBPF program, use the
<code>bpfman get &lt;PROGRAM_ID&gt;</code> command.
If the eBPF program was loaded via bpfman, then there will be a <code>Bpfman State</code>
section with bpfman related attributes and a <code>Kernel State</code> section with
kernel information.
If the eBPF program was loaded outside of bpfman, then the <code>Bpfman State</code>
section will be empty and <code>Kernel State</code> section will be populated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="go">sudo bpfman get 6204</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="go"> Bpfman State</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="go">---------------</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="go"> Name:          stats</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="go"> Image URL:     quay.io/bpfman-bytecode/go-tc-counter:latest</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="go"> Pull Policy:   IfNotPresent</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="go"> Global:        None</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="go"> Metadata:      None</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="go"> Map Pin Path:  /run/bpfman/fs/maps/6204</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="go"> Map Owner ID:  None</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="go"> Map Used By:   6204</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="go"> Priority:      100</span>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="go"> Iface:         eno3</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="go"> Position:      0</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="go"> Direction:     eg</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="go"> Proceed On:    pipe, dispatcher_return</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="go"> Kernel State</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="go">----------------------------------</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="go"> Program ID:                       6204</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="go"> Name:                             stats</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="go"> Type:                             tc</span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a><span class="go"> Loaded At:                        2023-07-17T17:20:14-0400</span>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="go"> Tag:                              ead94553702a3742</span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="go"> GPL Compatible:                   true</span>
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="go"> Map IDs:                          [2705]</span>
<a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="go"> BTF ID:                           2821</span>
<a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="go"> Size Translated (bytes):          176</span>
<a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="go"> JITed:                            true</span>
<a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="go"> Size JITed (bytes):               116</span>
<a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="go"> Kernel Allocated Memory (bytes):  4096</span>
<a id="__codelineno-31-32" name="__codelineno-31-32" href="#__codelineno-31-32"></a><span class="go"> Verified Instruction Count:       24</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="go">sudo bpfman get 6190</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="go"> Bpfman State</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="go">---------------</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="go">NONE</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="go"> Kernel State</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="go">----------------------------------</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="go">Program ID:                        6190</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="go">Name:                              None</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="go">Type:                              cgroup_skb</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="go">Loaded At:                         2023-07-17T17:15:23-0400</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="go">Tag:                               6deef7357e7b4530</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="go">GPL Compatible:                    true</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="go">Map IDs:                           []</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="go">BTF ID:                            0</span>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="go">Size Translated (bytes):           64</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="go">JITed:                             true</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="go">Size JITed (bytes):                55</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="go">Kernel Allocated Memory (bytes):   4096</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="go">Verified Instruction Count:        8</span>
</code></pre></div>
<h2 id="bpfman-unload">bpfman unload</h2>
<p>The <code>bpfman unload</code> command takes the program id from the load or list command as a parameter,
and unloads the requested eBPF program:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="go">sudo bpfman unload 6204</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="go">sudo bpfman list</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="go"> Program ID  Name              Type        Load Time</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="go"> 6201        pass              xdp         2023-07-17T17:17:53-0400</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="go"> 6202        sys_enter_openat  tracepoint  2023-07-17T17:19:09-0400</span>
</code></pre></div>
<h2 id="bpfman-image">bpfman image</h2>
<p>The <code>bpfman image</code> commands contain a set of container image related commands.</p>
<h3 id="bpfman-image-pull">bpfman image pull</h3>
<p>The <code>bpfman image pull</code> command pulls a given bytecode image for future use
by a load command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="go">sudo bpfman image pull --help</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="go">Pull an eBPF bytecode image from a remote registry</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="go">Usage: bpfman image pull [OPTIONS] --image-url &lt;IMAGE_URL&gt;</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="go">Options:</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="go">  -i, --image-url &lt;IMAGE_URL&gt;</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="go">          Required: Container Image URL.</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="go">          Example: --image-url quay.io/bpfman-bytecode/xdp_pass:latest</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="go">  -r, --registry-auth &lt;REGISTRY_AUTH&gt;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="go">          Optional: Registry auth for authenticating with the specified image registry.</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="go">          This should be base64 encoded from the &#39;&lt;username&gt;:&lt;password&gt;&#39; string just like</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="go">          it&#39;s stored in the docker/podman host config.</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="go">          Example: --registry_auth &quot;YnjrcKw63PhDcQodiU9hYxQ2&quot;</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="go">  -p, --pull-policy &lt;PULL_POLICY&gt;</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="go">          Optional: Pull policy for remote images.</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="go">          [possible values: Always, IfNotPresent, Never]</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="go">          [default: IfNotPresent]</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="go">  -h, --help</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>Example usage:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="go">sudo bpfman image pull --image-url quay.io/bpfman-bytecode/xdp_pass:latest</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="go">Successfully downloaded bytecode</span>
</code></pre></div>
<p>Then when loaded, the local image will be used:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="go">sudo bpfman load image --image-url quay.io/bpfman-bytecode/xdp_pass:latest --pull-policy IfNotPresent xdp --iface eno3 --priority 100</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="go"> Bpfman State                                           </span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="go"> ---------------</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="go"> Name:          pass                                  </span>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="go"> Image URL:     quay.io/bpfman-bytecode/xdp_pass:latest </span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="go"> Pull Policy:   IfNotPresent                          </span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="go"> Global:        None                                  </span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="go"> Metadata:      None                                  </span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="go"> Map Pin Path:  /run/bpfman/fs/maps/406681              </span>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="go"> Map Owner ID:  None                                  </span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="go"> Maps Used By:  None                                  </span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="go"> Priority:      100                                   </span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="go"> Iface:         eno3</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="go"> Position:      2                                     </span>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="go"> Proceed On:    pass, dispatcher_return               </span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="go"> Kernel State                                               </span>
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="go"> ----------------------------------</span>
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="go"> Program ID:                       406681                   </span>
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="go"> Name:                             pass                     </span>
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="go"> Type:                             xdp                      </span>
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a><span class="go"> Loaded At:                        1917-01-27T01:37:06-0500 </span>
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="go"> Tag:                              4b9d1b2c140e87ce         </span>
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="go"> GPL Compatible:                   true                     </span>
<a id="__codelineno-37-25" name="__codelineno-37-25" href="#__codelineno-37-25"></a><span class="go"> Map IDs:                          [736646]                 </span>
<a id="__codelineno-37-26" name="__codelineno-37-26" href="#__codelineno-37-26"></a><span class="go"> BTF ID:                           555560                   </span>
<a id="__codelineno-37-27" name="__codelineno-37-27" href="#__codelineno-37-27"></a><span class="go"> Size Translated (bytes):          96                       </span>
<a id="__codelineno-37-28" name="__codelineno-37-28" href="#__codelineno-37-28"></a><span class="go"> JITted:                           true                     </span>
<a id="__codelineno-37-29" name="__codelineno-37-29" href="#__codelineno-37-29"></a><span class="go"> Size JITted:                      67                       </span>
<a id="__codelineno-37-30" name="__codelineno-37-30" href="#__codelineno-37-30"></a><span class="go"> Kernel Allocated Memory (bytes):  4096                     </span>
<a id="__codelineno-37-31" name="__codelineno-37-31" href="#__codelineno-37-31"></a><span class="go"> Verified Instruction Count:       9                        </span>
</code></pre></div>
<h3 id="bpfman-image-build">bpfman image build</h3>
<p>The <code>bpfman image build</code> command is a utility command that builds and pushes an eBPF program
in a OCI container image leveraging either <code>docker</code> or <code>podman</code>.
The eBPF program bytecode must already be generated.
This command calls <code>docker</code> or <code>podman</code> with the proper parameters for building
multi-architecture based images with the proper labels for a OCI container image.</p>
<p>Since this command is leveraging <code>docker</code> and <code>podman</code>, a container file (<code>--container-file</code> or <code>-f</code>)
is required, along with an image tag (<code>--tag</code> of <code>-t</code>).
In addition, the bytecode to package must be included.
The bytecode can take several forms, but at least one must be provided:</p>
<ul>
<li><code>--bytecode</code> or <code>-b</code>: Use this option for a single bytecode object file built for the host architecture.
  The value of this parameter is a single bytecode object file.</li>
<li><code>--cilium-ebpf-project</code> or <code>-c</code>: Use this option for a cilium/ebpf based project.
  The value of this parameter is a directory that contains multiple object files for different architectures,
  where the object files follow the Cilium naming convention with the architecture in the name (i.e. bpf_x86_bpfel.o,
  bpf_arm64_bpfel.o, bpf_powerpc_bpfel.o, bpf_s390_bpfeb.o).</li>
<li><code>--bc-386-el</code> .. <code>--bc-s390x-eb</code>: Use this option to add one or more architecture specific bytecode files.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="go">bpfman image build --help</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="go">Build an eBPF bytecode image from local bytecode objects and push to a registry.</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="go">To use, the --container-file and --tag must be included, as well as a pointer to</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="go">at least one bytecode file that can be passed in several ways. Use either:</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="go">* --bytecode: for a single bytecode built for the host architecture.</span>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="go">* --cilium-ebpf-project: for a cilium/ebpf project directory which contains</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="go">    multiple object files for different architectures.</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="go">* --bc-386-el .. --bc-s390x-eb: to add one or more architecture specific bytecode files.</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="go">Examples:</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="go">   bpfman image build -f Containerfile.bytecode -t quay.io/&lt;USER&gt;/go-xdp-counter:test \</span>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="go">     -b ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="go">Usage: bpfman image build [OPTIONS] --tag &lt;TAG&gt; --container-file &lt;CONTAINER_FILE&gt; &lt;--bytecode &lt;BYTECODE&gt;|--cilium-ebpf-project &lt;CILIUM_EBPF_PROJECT&gt;|--bc-386-el &lt;BC_386_EL&gt;|--bc-amd64-el &lt;BC_AMD64_EL&gt;|--bc-arm-el &lt;BC_ARM_EL&gt;|--bc-arm64-el &lt;BC_ARM64_EL&gt;|--bc-loong64-el &lt;BC_LOONG64_EL&gt;|--bc-mips-eb &lt;BC_MIPS_EB&gt;|--bc-mipsle-el &lt;BC_MIPSLE_EL&gt;|--bc-mips64-eb &lt;BC_MIPS64_EB&gt;|--bc-mips64le-el &lt;BC_MIPS64LE_EL&gt;|--bc-ppc64-eb &lt;BC_PPC64_EB&gt;|--bc-ppc64le-el &lt;BC_PPC64LE_EL&gt;|--bc-riscv64-el &lt;BC_RISCV64_EL&gt;|--bc-s390x-eb &lt;BC_S390X_EB&gt;&gt;</span>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="go">Options:</span>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="go">  -t, --tag &lt;TAG&gt;</span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="go">          Required: Name and optionally a tag in the name:tag format.</span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="go">          Example: --tag quay.io/bpfman-bytecode/xdp_pass:latest</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="go">  -f, --container-file &lt;CONTAINER_FILE&gt;</span>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="go">          Required: Dockerfile to use for building the image.</span>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="go">          Example: --container_file Containerfile.bytecode</span>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a><span class="go">  -r, --runtime &lt;RUNTIME&gt;</span>
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="go">          Optional: Container runtime to use, works with docker or podman, defaults to docker</span>
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a><span class="go">          Example: --runtime podman</span>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="go">  -b, --bytecode &lt;BYTECODE&gt;</span>
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a><span class="go">          Optional: bytecode file to use for building the image assuming host architecture.</span>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a><span class="go">          Example: -b ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="go">  -c, --cilium-ebpf-project &lt;CILIUM_EBPF_PROJECT&gt;</span>
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a><span class="go">          Optional: If specified pull multi-arch bytecode files from a cilium/ebpf formatted project</span>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a><span class="go">          where the bytecode files all contain a standard bpf_&lt;GOARCH&gt;_&lt;(el/eb)&gt;.o tag.</span>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="go">          Example: --cilium-ebpf-project ./examples/go-xdp-counter</span>
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a>
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a><span class="go">      --bc-386-el &lt;BC_386_EL&gt;</span>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a><span class="go">          Optional: bytecode file to use for building the image assuming amd64 architecture.</span>
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="go">          Example: --bc-386-el ./examples/go-xdp-counter/bpf_386_bpfel.o</span>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a>
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a><span class="go">      --bc-amd64-el &lt;BC_AMD64_EL&gt;</span>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a><span class="go">          Optional: bytecode file to use for building the image assuming amd64 architecture.</span>
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a><span class="go">          Example: --bc-amd64-el ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a>
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a><span class="go">      --bc-arm-el &lt;BC_ARM_EL&gt;</span>
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a><span class="go">          Optional: bytecode file to use for building the image assuming arm architecture.</span>
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a><span class="go">          Example: --bc-arm-el ./examples/go-xdp-counter/bpf_arm_bpfel.o</span>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a>
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a><span class="go">      --bc-arm64-el &lt;BC_ARM64_EL&gt;</span>
<a id="__codelineno-38-55" name="__codelineno-38-55" href="#__codelineno-38-55"></a><span class="go">          Optional: bytecode file to use for building the image assuming arm64 architecture.</span>
<a id="__codelineno-38-56" name="__codelineno-38-56" href="#__codelineno-38-56"></a><span class="go">          Example: --bc-arm64-el ./examples/go-xdp-counter/bpf_arm64_bpfel.o</span>
<a id="__codelineno-38-57" name="__codelineno-38-57" href="#__codelineno-38-57"></a>
<a id="__codelineno-38-58" name="__codelineno-38-58" href="#__codelineno-38-58"></a><span class="go">      --bc-loong64-el &lt;BC_LOONG64_EL&gt;</span>
<a id="__codelineno-38-59" name="__codelineno-38-59" href="#__codelineno-38-59"></a><span class="go">          Optional: bytecode file to use for building the image assuming loong64 architecture.</span>
<a id="__codelineno-38-60" name="__codelineno-38-60" href="#__codelineno-38-60"></a><span class="go">          Example: --bc-loong64-el ./examples/go-xdp-counter/bpf_loong64_bpfel.o</span>
<a id="__codelineno-38-61" name="__codelineno-38-61" href="#__codelineno-38-61"></a>
<a id="__codelineno-38-62" name="__codelineno-38-62" href="#__codelineno-38-62"></a><span class="go">      --bc-mips-eb &lt;BC_MIPS_EB&gt;</span>
<a id="__codelineno-38-63" name="__codelineno-38-63" href="#__codelineno-38-63"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips architecture.</span>
<a id="__codelineno-38-64" name="__codelineno-38-64" href="#__codelineno-38-64"></a><span class="go">          Example: --bc-mips-eb ./examples/go-xdp-counter/bpf_mips_bpfeb.o</span>
<a id="__codelineno-38-65" name="__codelineno-38-65" href="#__codelineno-38-65"></a>
<a id="__codelineno-38-66" name="__codelineno-38-66" href="#__codelineno-38-66"></a><span class="go">      --bc-mipsle-el &lt;BC_MIPSLE_EL&gt;</span>
<a id="__codelineno-38-67" name="__codelineno-38-67" href="#__codelineno-38-67"></a><span class="go">          Optional: bytecode file to use for building the image assuming mipsle architecture.</span>
<a id="__codelineno-38-68" name="__codelineno-38-68" href="#__codelineno-38-68"></a><span class="go">          Example: --bc-mipsle-el ./examples/go-xdp-counter/bpf_mipsle_bpfel.o</span>
<a id="__codelineno-38-69" name="__codelineno-38-69" href="#__codelineno-38-69"></a>
<a id="__codelineno-38-70" name="__codelineno-38-70" href="#__codelineno-38-70"></a><span class="go">      --bc-mips64-eb &lt;BC_MIPS64_EB&gt;</span>
<a id="__codelineno-38-71" name="__codelineno-38-71" href="#__codelineno-38-71"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips64 architecture.</span>
<a id="__codelineno-38-72" name="__codelineno-38-72" href="#__codelineno-38-72"></a><span class="go">          Example: --bc-mips64-eb ./examples/go-xdp-counter/bpf_mips64_bpfeb.o</span>
<a id="__codelineno-38-73" name="__codelineno-38-73" href="#__codelineno-38-73"></a>
<a id="__codelineno-38-74" name="__codelineno-38-74" href="#__codelineno-38-74"></a><span class="go">      --bc-mips64le-el &lt;BC_MIPS64LE_EL&gt;</span>
<a id="__codelineno-38-75" name="__codelineno-38-75" href="#__codelineno-38-75"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips64le architecture.</span>
<a id="__codelineno-38-76" name="__codelineno-38-76" href="#__codelineno-38-76"></a><span class="go">          Example: --bc-mips64le-el ./examples/go-xdp-counter/bpf_mips64le_bpfel.o</span>
<a id="__codelineno-38-77" name="__codelineno-38-77" href="#__codelineno-38-77"></a>
<a id="__codelineno-38-78" name="__codelineno-38-78" href="#__codelineno-38-78"></a><span class="go">      --bc-ppc64-eb &lt;BC_PPC64_EB&gt;</span>
<a id="__codelineno-38-79" name="__codelineno-38-79" href="#__codelineno-38-79"></a><span class="go">          Optional: bytecode file to use for building the image assuming ppc64 architecture.</span>
<a id="__codelineno-38-80" name="__codelineno-38-80" href="#__codelineno-38-80"></a><span class="go">          Example: --bc-ppc64-eb ./examples/go-xdp-counter/bpf_ppc64_bpfeb.o</span>
<a id="__codelineno-38-81" name="__codelineno-38-81" href="#__codelineno-38-81"></a>
<a id="__codelineno-38-82" name="__codelineno-38-82" href="#__codelineno-38-82"></a><span class="go">      --bc-ppc64le-el &lt;BC_PPC64LE_EL&gt;</span>
<a id="__codelineno-38-83" name="__codelineno-38-83" href="#__codelineno-38-83"></a><span class="go">          Optional: bytecode file to use for building the image assuming ppc64le architecture.</span>
<a id="__codelineno-38-84" name="__codelineno-38-84" href="#__codelineno-38-84"></a><span class="go">          Example: --bc-ppc64le-el ./examples/go-xdp-counter/bpf_ppc64le_bpfel.o</span>
<a id="__codelineno-38-85" name="__codelineno-38-85" href="#__codelineno-38-85"></a>
<a id="__codelineno-38-86" name="__codelineno-38-86" href="#__codelineno-38-86"></a><span class="go">      --bc-riscv64-el &lt;BC_RISCV64_EL&gt;</span>
<a id="__codelineno-38-87" name="__codelineno-38-87" href="#__codelineno-38-87"></a><span class="go">          Optional: bytecode file to use for building the image assuming riscv64 architecture.</span>
<a id="__codelineno-38-88" name="__codelineno-38-88" href="#__codelineno-38-88"></a><span class="go">          Example: --bc-riscv64-el ./examples/go-xdp-counter/bpf_riscv64_bpfel.o</span>
<a id="__codelineno-38-89" name="__codelineno-38-89" href="#__codelineno-38-89"></a>
<a id="__codelineno-38-90" name="__codelineno-38-90" href="#__codelineno-38-90"></a><span class="go">      --bc-s390x-eb &lt;BC_S390X_EB&gt;</span>
<a id="__codelineno-38-91" name="__codelineno-38-91" href="#__codelineno-38-91"></a><span class="go">          Optional: bytecode file to use for building the image assuming s390x architecture.</span>
<a id="__codelineno-38-92" name="__codelineno-38-92" href="#__codelineno-38-92"></a><span class="go">          Example: --bc-s390x-eb ./examples/go-xdp-counter/bpf_s390x_bpfeb.o</span>
<a id="__codelineno-38-93" name="__codelineno-38-93" href="#__codelineno-38-93"></a>
<a id="__codelineno-38-94" name="__codelineno-38-94" href="#__codelineno-38-94"></a><span class="go">  -h, --help</span>
<a id="__codelineno-38-95" name="__codelineno-38-95" href="#__codelineno-38-95"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>Below are some different examples of building images.
Note that <code>sudo</code> is not required.
This command also pushed the image to a registry, so user must already be logged into the registry.</p>
<p>Example of single bytecode image:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="go">bpfman image build -f Containerfile.bytecode -t quay.io/$QUAY_USER/go-xdp-counter:test -b ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
</code></pre></div>
<p>Example of directory with Cilium generated bytecode objects:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="go">bpfman image build -f Containerfile.bytecode.multi.arch -t quay.io/$QUAY_USER/go-xdp-counter:test -c ./examples/go-xdp-counter/</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To build images for multiple architectures on a local system, docker (or podman) may need additional configuration
settings to allow for caching of non-native images. See 
<a href="https://docs.docker.com/build/building/multi-platform/">https://docs.docker.com/build/building/multi-platform/</a>
for more details.</p>
</div>
<h3 id="bpfman-image-generate-build-args">bpfman image generate-build-args</h3>
<p>The <code>bpfman image generate-build-args</code> command is a utility command that generates the labels used
to package eBPF program bytecode in a OCI container image.
The eBPF program bytecode must already be generated.</p>
<p>This command requires the bytecode to package that would be packaged in a OCI container image.
The bytecode can take several forms, but at least one must be provided:</p>
<ul>
<li><code>--bytecode</code> or <code>-b</code>: Use this option for a single bytecode object file built for the host architecture.
  The value of this parameter is a single bytecode object file.</li>
<li><code>--cilium-ebpf-project</code> or <code>-c</code>: Use this option for a cilium/ebpf based project.
  The value of this parameter is a directory that contains multiple object files for different architectures,
  where the object files follow the Cilium naming convention with the architecture in the name (i.e. bpf_x86_bpfel.o,
  bpf_arm64_bpfel.o, bpf_powerpc_bpfel.o, bpf_s390_bpfeb.o).</li>
<li><code>--bc-386-el</code> .. <code>--bc-s390x-eb</code>: Use this option to add one or more architecture specific bytecode files.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="go">bpfman image generate-build-args --help</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="go">Generate the OCI image labels for a given bytecode file.</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="go">To use, the --container-file and --tag must be included, as well as a pointer to</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="go">at least one bytecode file that can be passed in several ways. Use either:</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="go">* --bytecode: for a single bytecode built for the host architecture.</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="go">* --cilium-ebpf-project: for a cilium/ebpf project directory which contains</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="go">    multiple object files for different architectures.</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="go">* --bc-386-el .. --bc-s390x-eb: to add one or more architecture specific bytecode files.</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="go">Examples:</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a><span class="go">  bpfman image generate-build-args --bc-amd64-el ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="go">Usage: bpfman image generate-build-args &lt;--bytecode &lt;BYTECODE&gt;|--cilium-ebpf-project &lt;CILIUM_EBPF_PROJECT&gt;|--bc-386-el &lt;BC_386_EL&gt;|--bc-amd64-el &lt;BC_AMD64_EL&gt;|--bc-arm-el &lt;BC_ARM_EL&gt;|--bc-arm64-el &lt;BC_ARM64_EL&gt;|--bc-loong64-el &lt;BC_LOONG64_EL&gt;|--bc-mips-eb &lt;BC_MIPS_EB&gt;|--bc-mipsle-el &lt;BC_MIPSLE_EL&gt;|--bc-mips64-eb &lt;BC_MIPS64_EB&gt;|--bc-mips64le-el &lt;BC_MIPS64LE_EL&gt;|--bc-ppc64-eb &lt;BC_PPC64_EB&gt;|--bc-ppc64le-el &lt;BC_PPC64LE_EL&gt;|--bc-riscv64-el &lt;BC_RISCV64_EL&gt;|--bc-s390x-eb &lt;BC_S390X_EB&gt;&gt;</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="go">Options:</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="go">  -b, --bytecode &lt;BYTECODE&gt;</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="go">          Optional: bytecode file to use for building the image assuming host architecture.</span>
<a id="__codelineno-41-22" name="__codelineno-41-22" href="#__codelineno-41-22"></a><span class="go">          Example: -b ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-41-23" name="__codelineno-41-23" href="#__codelineno-41-23"></a>
<a id="__codelineno-41-24" name="__codelineno-41-24" href="#__codelineno-41-24"></a><span class="go">  -c, --cilium-ebpf-project &lt;CILIUM_EBPF_PROJECT&gt;</span>
<a id="__codelineno-41-25" name="__codelineno-41-25" href="#__codelineno-41-25"></a><span class="go">          Optional: If specified pull multi-arch bytecode files from a cilium/ebpf formatted project</span>
<a id="__codelineno-41-26" name="__codelineno-41-26" href="#__codelineno-41-26"></a><span class="go">          where the bytecode files all contain a standard bpf_&lt;GOARCH&gt;_&lt;(el/eb)&gt;.o tag.</span>
<a id="__codelineno-41-27" name="__codelineno-41-27" href="#__codelineno-41-27"></a><span class="go">          Example: --cilium-ebpf-project ./examples/go-xdp-counter</span>
<a id="__codelineno-41-28" name="__codelineno-41-28" href="#__codelineno-41-28"></a>
<a id="__codelineno-41-29" name="__codelineno-41-29" href="#__codelineno-41-29"></a><span class="go">      --bc-386-el &lt;BC_386_EL&gt;</span>
<a id="__codelineno-41-30" name="__codelineno-41-30" href="#__codelineno-41-30"></a><span class="go">          Optional: bytecode file to use for building the image assuming amd64 architecture.</span>
<a id="__codelineno-41-31" name="__codelineno-41-31" href="#__codelineno-41-31"></a><span class="go">          Example: --bc-386-el ./examples/go-xdp-counter/bpf_386_bpfel.o</span>
<a id="__codelineno-41-32" name="__codelineno-41-32" href="#__codelineno-41-32"></a>
<a id="__codelineno-41-33" name="__codelineno-41-33" href="#__codelineno-41-33"></a><span class="go">      --bc-amd64-el &lt;BC_AMD64_EL&gt;</span>
<a id="__codelineno-41-34" name="__codelineno-41-34" href="#__codelineno-41-34"></a><span class="go">          Optional: bytecode file to use for building the image assuming amd64 architecture.</span>
<a id="__codelineno-41-35" name="__codelineno-41-35" href="#__codelineno-41-35"></a><span class="go">          Example: --bc-amd64-el ./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-41-36" name="__codelineno-41-36" href="#__codelineno-41-36"></a>
<a id="__codelineno-41-37" name="__codelineno-41-37" href="#__codelineno-41-37"></a><span class="go">      --bc-arm-el &lt;BC_ARM_EL&gt;</span>
<a id="__codelineno-41-38" name="__codelineno-41-38" href="#__codelineno-41-38"></a><span class="go">          Optional: bytecode file to use for building the image assuming arm architecture.</span>
<a id="__codelineno-41-39" name="__codelineno-41-39" href="#__codelineno-41-39"></a><span class="go">          Example: --bc-arm-el ./examples/go-xdp-counter/bpf_arm_bpfel.o</span>
<a id="__codelineno-41-40" name="__codelineno-41-40" href="#__codelineno-41-40"></a>
<a id="__codelineno-41-41" name="__codelineno-41-41" href="#__codelineno-41-41"></a><span class="go">      --bc-arm64-el &lt;BC_ARM64_EL&gt;</span>
<a id="__codelineno-41-42" name="__codelineno-41-42" href="#__codelineno-41-42"></a><span class="go">          Optional: bytecode file to use for building the image assuming arm64 architecture.</span>
<a id="__codelineno-41-43" name="__codelineno-41-43" href="#__codelineno-41-43"></a><span class="go">          Example: --bc-arm64-el ./examples/go-xdp-counter/bpf_arm64_bpfel.o</span>
<a id="__codelineno-41-44" name="__codelineno-41-44" href="#__codelineno-41-44"></a>
<a id="__codelineno-41-45" name="__codelineno-41-45" href="#__codelineno-41-45"></a><span class="go">      --bc-loong64-el &lt;BC_LOONG64_EL&gt;</span>
<a id="__codelineno-41-46" name="__codelineno-41-46" href="#__codelineno-41-46"></a><span class="go">          Optional: bytecode file to use for building the image assuming loong64 architecture.</span>
<a id="__codelineno-41-47" name="__codelineno-41-47" href="#__codelineno-41-47"></a><span class="go">          Example: --bc-loong64-el ./examples/go-xdp-counter/bpf_loong64_bpfel.o</span>
<a id="__codelineno-41-48" name="__codelineno-41-48" href="#__codelineno-41-48"></a>
<a id="__codelineno-41-49" name="__codelineno-41-49" href="#__codelineno-41-49"></a><span class="go">      --bc-mips-eb &lt;BC_MIPS_EB&gt;</span>
<a id="__codelineno-41-50" name="__codelineno-41-50" href="#__codelineno-41-50"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips architecture.</span>
<a id="__codelineno-41-51" name="__codelineno-41-51" href="#__codelineno-41-51"></a><span class="go">          Example: --bc-mips-eb ./examples/go-xdp-counter/bpf_mips_bpfeb.o</span>
<a id="__codelineno-41-52" name="__codelineno-41-52" href="#__codelineno-41-52"></a>
<a id="__codelineno-41-53" name="__codelineno-41-53" href="#__codelineno-41-53"></a><span class="go">      --bc-mipsle-el &lt;BC_MIPSLE_EL&gt;</span>
<a id="__codelineno-41-54" name="__codelineno-41-54" href="#__codelineno-41-54"></a><span class="go">          Optional: bytecode file to use for building the image assuming mipsle architecture.</span>
<a id="__codelineno-41-55" name="__codelineno-41-55" href="#__codelineno-41-55"></a><span class="go">          Example: --bc-mipsle-el ./examples/go-xdp-counter/bpf_mipsle_bpfel.o</span>
<a id="__codelineno-41-56" name="__codelineno-41-56" href="#__codelineno-41-56"></a>
<a id="__codelineno-41-57" name="__codelineno-41-57" href="#__codelineno-41-57"></a><span class="go">      --bc-mips64-eb &lt;BC_MIPS64_EB&gt;</span>
<a id="__codelineno-41-58" name="__codelineno-41-58" href="#__codelineno-41-58"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips64 architecture.</span>
<a id="__codelineno-41-59" name="__codelineno-41-59" href="#__codelineno-41-59"></a><span class="go">          Example: --bc-mips64-eb ./examples/go-xdp-counter/bpf_mips64_bpfeb.o</span>
<a id="__codelineno-41-60" name="__codelineno-41-60" href="#__codelineno-41-60"></a>
<a id="__codelineno-41-61" name="__codelineno-41-61" href="#__codelineno-41-61"></a><span class="go">      --bc-mips64le-el &lt;BC_MIPS64LE_EL&gt;</span>
<a id="__codelineno-41-62" name="__codelineno-41-62" href="#__codelineno-41-62"></a><span class="go">          Optional: bytecode file to use for building the image assuming mips64le architecture.</span>
<a id="__codelineno-41-63" name="__codelineno-41-63" href="#__codelineno-41-63"></a><span class="go">          Example: --bc-mips64le-el ./examples/go-xdp-counter/bpf_mips64le_bpfel.o</span>
<a id="__codelineno-41-64" name="__codelineno-41-64" href="#__codelineno-41-64"></a>
<a id="__codelineno-41-65" name="__codelineno-41-65" href="#__codelineno-41-65"></a><span class="go">      --bc-ppc64-eb &lt;BC_PPC64_EB&gt;</span>
<a id="__codelineno-41-66" name="__codelineno-41-66" href="#__codelineno-41-66"></a><span class="go">          Optional: bytecode file to use for building the image assuming ppc64 architecture.</span>
<a id="__codelineno-41-67" name="__codelineno-41-67" href="#__codelineno-41-67"></a><span class="go">          Example: --bc-ppc64-eb ./examples/go-xdp-counter/bpf_ppc64_bpfeb.o</span>
<a id="__codelineno-41-68" name="__codelineno-41-68" href="#__codelineno-41-68"></a>
<a id="__codelineno-41-69" name="__codelineno-41-69" href="#__codelineno-41-69"></a><span class="go">      --bc-ppc64le-el &lt;BC_PPC64LE_EL&gt;</span>
<a id="__codelineno-41-70" name="__codelineno-41-70" href="#__codelineno-41-70"></a><span class="go">          Optional: bytecode file to use for building the image assuming ppc64le architecture.</span>
<a id="__codelineno-41-71" name="__codelineno-41-71" href="#__codelineno-41-71"></a><span class="go">          Example: --bc-ppc64le-el ./examples/go-xdp-counter/bpf_ppc64le_bpfel.o</span>
<a id="__codelineno-41-72" name="__codelineno-41-72" href="#__codelineno-41-72"></a>
<a id="__codelineno-41-73" name="__codelineno-41-73" href="#__codelineno-41-73"></a><span class="go">      --bc-riscv64-el &lt;BC_RISCV64_EL&gt;</span>
<a id="__codelineno-41-74" name="__codelineno-41-74" href="#__codelineno-41-74"></a><span class="go">          Optional: bytecode file to use for building the image assuming riscv64 architecture.</span>
<a id="__codelineno-41-75" name="__codelineno-41-75" href="#__codelineno-41-75"></a><span class="go">          Example: --bc-riscv64-el ./examples/go-xdp-counter/bpf_riscv64_bpfel.o</span>
<a id="__codelineno-41-76" name="__codelineno-41-76" href="#__codelineno-41-76"></a>
<a id="__codelineno-41-77" name="__codelineno-41-77" href="#__codelineno-41-77"></a><span class="go">      --bc-s390x-eb &lt;BC_S390X_EB&gt;</span>
<a id="__codelineno-41-78" name="__codelineno-41-78" href="#__codelineno-41-78"></a><span class="go">          Optional: bytecode file to use for building the image assuming s390x architecture.</span>
<a id="__codelineno-41-79" name="__codelineno-41-79" href="#__codelineno-41-79"></a><span class="go">          Example: --bc-s390x-eb ./examples/go-xdp-counter/bpf_s390x_bpfeb.o</span>
<a id="__codelineno-41-80" name="__codelineno-41-80" href="#__codelineno-41-80"></a>
<a id="__codelineno-41-81" name="__codelineno-41-81" href="#__codelineno-41-81"></a><span class="go">  -h, --help</span>
<a id="__codelineno-41-82" name="__codelineno-41-82" href="#__codelineno-41-82"></a><span class="go">          Print help (see a summary with &#39;-h&#39;)</span>
</code></pre></div>
<p>Below are some different examples of generating build arguments.
Note that <code>sudo</code> is not required.</p>
<p>Example of single bytecode image:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="gp">$ </span>bpfman<span class="w"> </span>image<span class="w"> </span>generate-build-args<span class="w"> </span>-b<span class="w"> </span>./examples/go-xdp-counter/bpf_x86_bpfel.o
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="go">BYTECODE_FILE=./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="go">PROGRAMS={&quot;xdp_stats&quot;:&quot;xdp&quot;}</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="go">MAPS={&quot;xdp_stats_map&quot;:&quot;per_cpu_array&quot;}</span>
</code></pre></div>
<p>Example of directory with Cilium generated bytecode objects:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="gp">$ </span>bpfman<span class="w"> </span>image<span class="w"> </span>generate-build-args<span class="w"> </span>-c<span class="w"> </span>./examples/go-xdp-counter/
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="go">BC_AMD64_EL=./examples/go-xdp-counter/bpf_x86_bpfel.o</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="go">BC_ARM_EL=./examples/go-xdp-counter/bpf_arm64_bpfel.o</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="go">BC_PPC64LE_EL=./examples/go-xdp-counter/bpf_powerpc_bpfel.o</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="go">BC_S390X_EB=./examples/go-xdp-counter/bpf_s390_bpfeb.o</span>
<a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="go">PROGRAMS={&quot;xdp_stats&quot;:&quot;xdp&quot;}</span>
<a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="go">MAPS={&quot;xdp_stats_map&quot;:&quot;per_cpu_array&quot;}</span>
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!--
  Copyright (c) 2016-2024 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Copyright and theme information -->
<div class="md-copyright">
    
      <div class="md-copyright__highlight">
        Copyright &copy; 2021-2024 The bpfman contributors.<br>The Linux Foundation (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage/">Trademark Usage</a>.
      </div>
    
    
      Made with
      <a
        href="https://squidfunk.github.io/mkdocs-material/"
        target="_blank" rel="noopener"
      >
        Material for MkDocs
      </a>
    
  </div>
  <div class="md-copyright__netlify">
    <a href="https://www.netlify.com"> <img src="https://www.netlify.com/v3/img/components/netlify-color-accent.svg" alt="Deploys by Netlify" /> </a>
  </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "navigation.tracking", "navigation.indexes", "navigation.tabs", "navigation.tabs.sticky", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6c14ae12.min.js"></script>
      
    
  </body>
</html>